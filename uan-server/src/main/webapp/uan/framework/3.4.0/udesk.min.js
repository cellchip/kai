!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=jQuery},function(e,t,n){n(2),n(3),e.exports=n(4)},function(e,t,n){var i,a;!function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";function a(){var e=S.scanner.activeXName,t=S.scanner.version,i=S.scanner.classID,a=(S.scanner.initFlag,S.scanner.packagePath),o=0;this.errMsg=new Array(0,"成功",1,"装载的目录不存在",2,"当前用户对目录没有访问权限"),this.TwainSetDuplexDes=new Array(0,"成功",1,"设置单双面扫描失败,未知原因",2,"设置单双面扫描失败,可能不支持双面扫描"),this.TwainSetContrast=new Array(0,"成功",1,"超出范围，不在[0-255]之间",2,"从设备获取范围失败！"),this.GetClassID=function(){return i},this.SetPackagePath=function(e){a=e},this.GetPackagePath=function(){return a},this.GetVersion=function(){return t},this.obj=function(){return n.getElementById(e)},this.Resetm_nScanCount=function(){o=0},this.Setm_nScanCount=function(e){o=e},this.Addm_nScanCount=function(){o++},this.Getm_nScanCount=function(){return o}}function o(e,t,n,i){e.init(t,n,i)}function s(e){return n.getElementById(e)}function r(e,t){c(t),l(e)}function c(e){var t=S.scanner.loginReturn,n=t.split("|"),i=n[3];try{e.obj().AppInit(t,i,"100"),e.obj().SetDefaultDomainType(3)}catch(e){console.log(e)}}function l(e){var t=e.LoadScannerSources(),n=t.split("<br>");d(s("sourcelist"),n)}function d(e,t){for(var n in e)e.remove(n);for(var i in t)if(t[i].length>0){var a=new Option(t[i]);e.options[i]=a}}function u(){var t=S.scanner.activeXName,n=S.scanner.checkMsg1,i=S.scanner.checkMsg2;if(!f(t,w.scanner.GetVersion()))return void e("#firstEle").append('<center><a href="'+S.scanner.activeXUrl+'">'+n+"</a></center>");alert(i)}function f(e,t){var n;try{return n=new ActiveXObject(e),n.GetVersion()>=t}catch(e){return!1}}function p(e){e.OpenSetting(s("sourcelist").selectedIndex)}function h(e){e.StartScan(n.getElementById("sourcelist").selectedIndex,0)}function m(){var e=S.scanner.m_szName,t=S.scanner.m_nWidth,i=S.scanner.m_nHeight,a=S.scanner.m_bInitFinished,o=S.scanner.m_szConstVersion,s=S.scanner.m_szConstID,r=S.scanner.m_szPackagePath;this.SetName=function(t){e=t},this.GetName=function(){return e},this.SetWidth=function(e){t=e},this.GetWidth=function(){return t},this.SetHeight=function(e){i=e},this.GetHeight=function(){return i},this.SetInitFlag=function(e){a=e},this.GetInitFlag=function(){return a},this.GetVersion=function(){return o},this.GetClassID=function(){return s},this.SetPackagePath=function(e){r=e},this.GetPackagePath=function(){return r},this.obj=function(){return n.getElementById(e)}}function g(e,t,n,i,a){e.Init(t,n,i,a)}function v(e){var t=e.obj().GetBasePath();w.obj("filepath").value=t}function b(e,t){if(typeof e==i){var e=new a,n=0,s=0;alert("scanner is undefined")}if(o(e,"TwainCpp.Version",n,s),typeof t==i)var t=new m,c=0,l=0;g(t,"ImagePresentation",c,l,"b45c72d6-d458-46b5-85e4-9c38b388cd5f|10.231.2.84:9083/ASS|10.231.2.83:9085/TCS|99002|10.232.28.5:9083/ISS|10.232.20.177:9080/IRCS"),r(e,t),alert("初始化完成，请重新选择扫描仪！")}if(!e)return{};var w=t.udesk=t.udesk||{},S=e.extend(!0,{},{scanner:{activeXName:"TwainCpp.Version",version:"1,0,0,5693",classID:"1B5DEB6F-7634-47D8-9403-78E77E0D03F6",initFlag:0,packagePath:"",scannerIniMsg1:"未安装扫描仪控件",scannerIniMsg2:"ActiveX控件版本过低",loginReturn:"07926dc1-01f2-4f3f-aae1-49b20d0682b7|10.233.91.72:9083/ASS|10.233.91.71:9085/TCS|99007|10.232.59.170/ISS|10.232.56.86/IRCS",checkMsg1:"本机未安装扫描控件或版本未升级，请下载安装",checkMsg2:"已安装ActiveX控件控件，而且版本正确！点击继续。",m_szName:"ImagePresentation",m_nWidth:600,m_nHeight:440,m_bInitFinished:0,m_szConstVersion:"1,0,0,5693",m_szConstID:"DD50C15C-90AB-4055-861B-5FB2AFA8C1E4",m_szPackagePath:"",ImgPrName:"IMAGEPRESENTATION.Version",ImgPrIniMsg:"本机未安装图像展示控件或版本未升级，请下载安装",activeXUrl:"http://cdn.udesk.abc/cdn/framework/3.0.0/IACEXinstall.msi"}},w.options);return t.console=t.console||function(){var e={};return e.log=e.warn=e.debug.c.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e},a.prototype.init=function(t,n,i){if(1!=this.initFlag){var a,o=null;try{o=new ActiveXObject("TwainCpp.Version")}catch(t){console.log("exp = "+t)}var s=0;if(null==o?(a=S.scanner.scannerIniMsg1,s=1):o.GetVersion()<this.version&&(a=S.scanner.scannerIniMsg2,s=1),1==s)e("#firstEle").append('<center><a href="'+S.scanner.activeXUrl+'">'+a+"</a></center>");else{var r='<center><object id="'+t+'" width="'+n+'" height="'+i+"\" CLASSID='CLSID:"+this.GetClassID()+"' CODEBASE='"+this.GetPackagePath()+"' #version="+this.GetVersion()+'\'><PARAM NAME="Vender" VALUE="中国农业银行股份有限公司" /></object></center>';e("#firstEle").append(r)}this.initFlag=1}},a.prototype.LoadScannerSources=function(){return this.obj().LoadTwainSources()},a.prototype.OpenSetting=function(e){return this.obj().OpenSetting(e)},a.prototype.StartScan=function(e,t){return this.Resetm_nScanCount(),this.obj().StartScan(e)},m.prototype.Init=function(t,n,i,a){if(1!=this.GetInitFlag()){var o=S.scanner.ImgPrName,s=S.scanner.ImgPrIniMsg;if(!f(o,this.GetVersion()))return void e("#firstEle").append('<center><a href="'+S.scanner.activeXUrl+'">'+s+"</a></center>");this.SetName(t),this.SetWidth(n),this.SetHeight(i);var r='<center><object ID="'+this.GetName()+'" WIDTH="'+this.GetWidth()+'" HEIGHT="'+this.GetHeight()+"\" CLASSID='CLSID:"+this.GetClassID()+"' CODEBASE='"+this.GetPackagePath()+"#version="+this.GetVersion()+'\'><PARAM NAME="Vender" VALUE="中国农业银行股份有限公司" /></object></center>';e("#imagePresent").append(r),this.SetInitFlag(1)}},a.prototype.ScanBatchUUID=function(){return this.obj().ScanBatchUUID},e.extend(!0,w,{defaults:S,Scanner:a,scannerInit:o,obj:s,scannerLoadDrv:r,scannerAppIni:c,scannerLoadSc:l,scannerFillSelect:d,checkActiveX:u,cmpAXVersion:f,scannerOpenSting:p,scannerStartSc:h,scannerImagePre:m,scannerImgPreInit:g,scannerGetPath:v,scannerDevIni:b})})},function(e,t,n){var i,a;!function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";if(!e)return{};var a=t.udesk=t.udesk||{},o=e.extend(!0,{},{fingerprint:{enable:!1,varWaitTime:1e4,varOpenDeviceFailed:"打开设备失败",varCancel:"取消",varTimeout:"超时",varReadImageFailed:"采集失败",varUpImageFailed:"上传失败",varGetTzFailed:"提取特征失败",varGetMbFailed:"指纹采集失败，请重试！",varParameterIllegal:"参数非法",varIsGettingImage:"已经在采集图像"}},a.options);t.console=t.console||function(){var e={};return e.log=e.warn=e.debug.c.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e};var s=function(e){if(a.options.fingerprint.enable)return"-1"==e?(alert(o.fingerprint.varOpenDeviceFailed),-1):"-2"==e?(alert(o.fingerprint.varCancel),-2):"-3"==e?(alert(o.fingerprint.varTimeout),-3):"-4"==e?(alert(o.fingerprint.varReadImageFailed),-4):"-5"==e?(alert(o.fingerprint.varUpImageFailed),-5):"-6"==e?(alert(o.fingerprint.varGetTzFailed),-10):"-7"==e?(alert(o.fingerprint.varGetMbFailed),-10):"-10"==e?(alert(o.fingerprint.varParameterIllegal),-10):"-11"==e?(alert(o.fingerprint.varIsGettingImage),-11):0;d()},r=function(e,t){if(a.options.fingerprint.enable)return e.GetTemplate(0,t);d()},c=function(e,t){if(a.options.fingerprint.enable)return e.GetFeature(0,t);d()},l=function(){if(a.options.fingerprint.enable){for(var t=0,n=e("object").length-1;n>=0;n--)"CLSID:0B6CD28F-5650-4FC9-877D-F8398F5A656F"==e(e("object")[n]).attr("classid")&&(t=1);1==t?a.showNotice({message:"HTML中已引用指纹仪程序",detail:"为了成功加载指纹仪驱动请使用IE浏览器，并调整浏览器的安全选项，在Internet选项-安全-自定义级别中将ActiveX相关选项设置为启用或提示！",level:"success"}):a.showWarning("HTML中未引用指纹仪","请在页面中添加指纹仪程序引用，为了成功加载指纹仪驱动请使用IE浏览器，并调整浏览器的安全选项，在Internet选项-安全-自定义级别中将ActiveX相关选项设置为启用或提示！")}else d()},d=function(){alert("使用指纹仪函数需要初始化时使能udesk.init({fingerprint:{enable:true}})")};return e.extend(!0,a,{defaults:o,fpIsSuccess:function(e){return s(e)},fpGetTemplate:function(e){return null==e&&"object"==typeof fpDevObj?r(fpDevObj,a.options.fingerprint.varWaitTime):"object"!=typeof e?alert("函数fpGetTemplate中需要传入html页面注册的指纹仪驱动id。正确的做法：1.HTML页面引入驱动object，2.在调用udesk.fpGetTemplate时传入驱动id。"):r(e,a.options.fingerprint.varWaitTime)},fpGetFeature:function(e){return null==e&&"object"==typeof fpDevObj?c(fpDevObj,a.options.fingerprint.varWaitTime):"object"!=typeof e?alert("函数fpGetFeature中需要传入html页面注册的指纹仪驱动id。正确的做法：1.HTML页面引入驱动object，2.在调用udesk.fpGetTemplate时传入驱动id。"):c(e,a.options.fingerprint.varWaitTime)},fpCheckDriver:l})})},function(e,t,n){var i,a,i,a,i,a,i,a;!function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";function a(e,t){return e.support.opacity?!!t.localStorage||(_log("当前浏览器不支持HTML5 Web存储功能。"),!1):(_log("当前浏览器版本过旧，为保证浏览效果，建议使用IE9及以上浏览器。"),!1)}if(!e)return{};var o=t.udesk=t.udesk||{},s={};t.console=t.console||function(){var e={};return e.log=e.warn=e.debug.c.info=e.error=e.time=e.dir=e.profile=e.clear=e.exception=e.trace=e.assert=function(){},e};var r=function(e){return _log(e),a(),!0};return e.extend(!0,o,{defaults:s,envManager:function(e){return r(e),this},checkBroserSupport:function(){return a()}})}),function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";function a(e,t){console.log("UDesk log: "+e)}function o(e,t){console.warn("UDesk warn: "+e)}function s(e,t){console.error("UDesk error: "+e)}function r(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}}function c(e){for(var t="",i=n.cookie.split(";"),a=0;a<i.length;a++)if(-1!=i[a].indexOf(e+"=")){var o=i[a].trim();t=o.substring(e.length+1,o.length);break}return t}function l(e,t,n){if(!e||!t)return!1;var i=!1;if(n){for(var a in e)if(e[a][n]===t[n]){i=!0;break}}else for(var a in e)if(e[a]===t){i=!0;break}return i}function d(e,t,n){if(!e||!t)return null;var i=[];if(n)for(var a in e)e[a][n]===t[n]||i.push(e[a]);else for(var a in e)e[a]==t||i.push(e[a]);return i}function u(){var e=t.document.location.href,n=t.document.location.pathname,i=e.indexOf(n);return e.substring(0,i)+n.substring(0,n.substr(1).indexOf("/")+2)}function f(e,t){return this.$element=e,this.options=t,this.init(),this}function p(t){var n=t,i=n.options,a=i.selector;return n.notice.options.appendTo.on("click",".message-detail a",function(){var t;switch(e(this).data("type")){case"success":t=i.detailIcon.success;break;case"warning":t=i.detailIcon.warning;break;case"error":t=i.detailIcon.error;break;case"info":t=i.detailIcon.info;break;default:t=null}h&&h.messageDetail({title:e(this).parent().siblings("h4").text(),icon:t,message:e(this).parent().siblings(a.messageBrief).text(),detail:e(this).siblings(a.hiddenDetail).text()})}),n.notice.options.appendTo.on("click",".notice-close",function(){e(this).closest(".k-notification").fadeOut(i.animation.close.duration,function(){e(this).remove()})}),n}if(!e)return{};var h=t.udesk=t.udesk||{},m={templates:{options:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1}},notice:{target:'<div class="notice-handler" style="display:none;"></div>',displayZone:'<div class="notice-display-zone"></div>',name:"Notification",position:{pinned:!0,top:30,right:30},stacking:"down",hideOnClick:!1,button:!0,allowHideAfter:0,autoHideAfter:0,width:null,height:null,templates:[{type:"success",template:'<div class="u-notice"><div class="notice-image"></div><div class="notice-message"><h4><b>成功</b></h4>#if(message){#<p class="message-brief">#=message#</p>#}##if(detail && detail.length > 19){#<p class="message-detail"><a data-type="success">点击查看详细信息<i class="fa fa-ellipsis-h"></i></a><span class="hidden-detail">#=detail#</span></p> #} else if(detail) {# <p class="message-detail">#=detail#</p> #}#</div><a class="notice-close fa fa-remove"></a></div>'},{type:"warning",template:'<div class="u-notice"><div class="notice-image"></div><div class="notice-message"><h4><b>警告</b></h4>#if(message){#<p class="message-brief">#=message#</p>#}##if(detail && detail.length > 19){#<p class="message-detail"><a data-type="warning">点击查看详细信息<i class="fa fa-ellipsis-h"></i></a><span class="hidden-detail">#=detail#</span></p> #} else if(detail) {# <p class="message-detail">#=detail#</p> #}#</div><a class="notice-close fa fa-remove"></a></div>'},{type:"error",template:'<div class="u-notice"><div class="notice-image"></div><div class="notice-message"><h4><b>失败</b></h4>#if(message){#<p class="message-brief">#=message#</p>#}##if(detail && detail.length > 19){#<p class="message-detail"><a data-type="error">点击查看详细信息<i class="fa fa-ellipsis-h"></i></a><span class="hidden-detail">#=detail#</span></p> #} else if(detail) {# <p class="message-detail">#=detail#</p> #}#</div><a class="notice-close fa fa-remove"></a></div>'},{type:"info",template:'<div class="u-notice"><div class="notice-image"></div><div class="notice-message"><div><h4><b>通知</b></h4>#if(message){#<p class="message-brief">#=message#</p>#}##if(detail && detail.length > 19){#<p class="message-detail"><a data-type="info">点击查看详细信息<i class="fa fa-ellipsis-h"></i></a><span class="hidden-detail">#=detail#</span></p> #} else if(detail) {# <p class="message-detail">#=detail#</p> #}#</div><a class="notice-close fa fa-remove"></a></div>'}],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}},selector:{hiddenDetail:".hidden-detail",messageBrief:".message-brief",messageDetail:".message-detail"},detailIcon:{success:"fa fa-check",warning:"fa fa-exclamation",error:"fa fa-remove",info:"fa fa-envelope-o"},onShow:function(e){},onHide:function(e){},draggable:{filter:">div",axis:"y",hint:function(e){return e.clone()}}},modal:{wrapper:'<div class="udeskModal"></div>',backdrop:!0,keyboard:!0,remote:!1,emptyOnHidden:!0,onInit:function(e){},onShow:function(e){},onShown:function(e){},onHide:function(e){},onHidden:function(e){},confirmChoice:[{display:"是(Y)",code:"YES"},{display:"否(N)",code:"NO"}],defaultChoice:0,templates:[{type:"confirm",template:'{{var data = it;}}<div class="modal fade confirm-modal" tabindex="-1" role="dialog" aria-labelledby="udeskModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title"><i class="{{if(data.icon){ }} {{=data.icon}} {{ }else{ }}fa fa-exclamation{{ } }}"></i><b>{{if(data.title){ }} {{=data.title}} {{ }else{ }} 操作确认 {{ } }}</b></h4></div><div class="modal-body">{{if(data.message){ }}<div class="message">{{=data.message}}</div>{{ }else{ }}确定要执行操作吗？{{ } }}{{if(data.detail) { }}<div class="detail"> {{=data.detail }}</div>{{ } }}</div><div class="modal-footer">{{var choice = data.choice; for(var i=0; i<choice.length; i++){ }}{{if( data.defaultChoice == i ){ }}<button type="button" class="btn active btn-theme" data-dismiss="modal" data-code="{{=choice[i].code}}" id="choiceBtn{{=choice[i].code}}">{{=choice[i].display}}</button>{{ }else{ }}<button type="button" class="btn" data-dismiss="modal" data-code="{{=choice[i].code}}" id="choiceBtn{{=choice[i].code}}">{{=choice[i].display}}</button>{{ } }}{{ } }}</div></div></div></div>'},{type:"messageDetail",template:'{{var data = it;}} <div class="modal fade error-modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title"><i class="{{if(data.icon){ }} {{=data.icon}} {{ }else{ }}fa fa-envelope-o{{ } }}"></i><b>{{if(data.title){ }} {{=data.title}} {{ }else{ }} 详细通知 {{ } }}</b></h4></div><div class="modal-body">{{if(data.message){ }}<div class="message">{{=data.message}}</div>{{ } }}{{if(data.detail) { }}<div class="detail"> {{=data.detail }}</div>{{ } }}</div><div class="modal-footer"><button type="button" class="btn btn-theme" data-dismiss="modal">关闭</button></div></div></div></div>'},{type:"messageBox",template:'{{var data = it;}}<div class="modal fade error-modal" tabindex="-1" role="dialog" aria-labelledby="u-modal-label" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title"><i class="{{if(data.icon){ }} {{=data.icon}} {{ }else{ }}fa fa-envelope-o{{ } }}"></i><b>{{if(data.title){ }} {{=data.title}} {{ }else{ }} 消息 {{ } }}</b></h4></div><div class="modal-body">{{if(data.message){ }}<div class="message">{{=data.message}}</div>{{ } }}</div><div class="modal-footer"><button type="button" class="btn" data-dismiss="modal">关闭</button></div></div></div></div>'}]},scanner:{enable:!1,scannerWith:0,scannerHeight:0,scannerImageHeight:440,scannerImageWidth:600},fingerprint:{enable:!1},ajax:{url:i,data:i,cache:!1,headers:{},beforeSend:function(e,t){},complete:function(e,t){},error:function(e,t,n){},success:function(e,t,n){},statusCode:{},timeout:{},showDefaultNotice:!1,defaultNotice:{success:!0,message:"操作成功！",detail:null},showResponseNotice:!0},ajaxSuccessDisplay:function(e,t,n){h.showNotice({message:e.message,detail:e.detail},"success")},ajaxErrorDisplay:function(e,t,n,i){i?h.showNotice({message:i.message,detail:i.detail},"error"):h.showNotice({message:e.status+" "+e.statusText,detail:t},"error")}},g=function(){return this||(0,eval)("this")}(),v={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},b=/$^/,w=function(e,t,n){return("string"==typeof t?t:t.toString()).replace(e.define||b,function(t,i,a,o){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===a?(e.defineParams&&o.replace(e.defineParams,function(e,t,a){n[i]={arg:t,text:a}}),i in n||(n[i]=o)):new Function("def","def['"+i+"']="+o)(n)),""}).replace(e.use||b,function(t,i){e.useParams&&(i=i.replace(e.useParams,function(e,t,i,a){if(n[i]&&n[i].arg&&a){var o=(i+":"+a).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[o]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+a+"$2"),t+"def.__exp['"+o+"']"}}));var a=new Function("def","return "+i)(n);return a?w(e,a,n):a})},S=function(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")},I=function(e,t,n){var i,o,s=t.append?v.append:v.split,c=0,l=t.use||t.define?w(t,e,n||{}):e;l=("var out='"+(t.strip?l.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):l).replace(/'|\\/g,"\\$&").replace(t.interpolate||b,function(e,t){return s.start+S(t)+s.end}).replace(t.encode||b,function(e,t){return i=!0,s.startencode+S(t)+s.end}).replace(t.conditional||b,function(e,t,n){return t?n?"';}else if("+S(n)+"){out+='":"';}else{out+='":n?"';if("+S(n)+"){out+='":"';}out+='"}).replace(t.iterate||b,function(e,t,n,i){return t?(c+=1,o=i||"i"+c,t=S(t),"';var arr"+c+"="+t+";if(arr"+c+"){var "+n+","+o+"=-1,l"+c+"=arr"+c+".length-1;while("+o+"<l"+c+"){"+n+"=arr"+c+"["+o+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||b,function(e,t){return"';"+S(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),i&&(t.selfcontained||!g||g._encodeHTML||(g._encodeHTML=r(t.doNotSkipEncoded)),l="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+r.toString()+"("+(t.doNotSkipEncoded||"")+"));"+l);try{return new Function(t.varname,l)}catch(e){throw a("Could not create a template function: "+l),e}},y=function(e,t){return this.$element=e,this.options=t,this.init(),this},k=function(t){var n=t,i=n.options,a=n.$dialog;a.on("show.bs.modal",function(){n.isShown=!0,e.isFunction(i.onShow)&&i.onShow(a)}),a.on("shown.bs.modal",function(){n.isShown=!0,e.isFunction(i.onShown)&&i.onShown(a)}),a.on("hide.bs.modal",function(){n.isShown=!0,e.isFunction(i.onHide)&&i.onHide(a)}),a.on("hidden.bs.modal",function(){n.isShown=!1,e.isFunction(i.onHidden)&&i.onHidden(a),i.emptyOnHidden&&n.$wrapper.empty()}),a.on("click",'button[id^="choiceBtn"]',function(t){e.isFunction(n.confirmCallback)&&n.confirmCallback(e(t.target).data("code"))})};return e.extend(!0,y.prototype,{constructor:y,VERSION:"3.4.0",$wrapper:i,$dialog:i,isShown:!1,confirmCallback:function(e){},init:function(){var t=this.options;return this.$wrapper=e(t.wrapper).appendTo(this.$element),this},show:function(t,n){if(this.isShown)return this;var a=this.options,o=a.templates,s=i;for(var r in o)if(o[r].type==n){s=h.template(o[r].template)(t);break}i==s&&(s=h.template(o[o.length-1].template)(t));var c=e.extend(!0,{},a,{backdrop:t.backdrop,keyboard:t.keyboard});return this.$dialog=this.$wrapper.append(s).children().last(),this.$dialog.modal(c),k(this),e.isFunction(a.onInit)&&a.onInit(this),this.$dialog.modal("show"),this},hide:function(){return this.isShown?(this.dialog&&this.dialog.modal("hide"),this):this},toggle:function(){return this.dialog&&this.dialog.modal("toggle"),this}}),e.extend(!0,f.prototype,{constructor:f,VERSION:"3.4.0",notice:i,sortable:i,init:function(){var t=this.options,n=e.extend(!0,{},t,{show:t.onShow,hide:t.onHide,appendTo:e(t.displayZone).appendTo(this.$element)}),i=e.extend(!0,{},t.draggable,{container:n.appendTo});try{this.notice=e(t.target).appendTo(this.$element).kendoNotification(n).data("kendoNotification"),this.sortable=n.appendTo.kendoSortable(i).data("kendoSortable")}catch(t){return console.error(t),null}return p(this),this},show:function(e,t){return t||(t="messageBox"),this.notice.show(e,t),this},hideAll:function(){return this.notice.hide(),this}}),e.extend(!0,h,{defaults:m,options:{},log:function(e){return a(e,this.logOutput),this},warn:function(e){return o(e,this.logOutput),this},error:function(e){return s(e,this.logOutput),this},template:function(t,n,i){var a=e.extend(!0,{},this.defaults.templates.options,n);return I(t,a,i)},getCookie:function(e){return c(e)},findInArray:function(e,t,n){return l(e,t,n)},removeInArray:function(e,t,n){return d(e,t,n)},getRootPath:function(){return u()},notice:function(e,t){return new f(e,t)},modal:function(e,t){return new y(e,t)},ajax:function(t,n){var a,o,s,r=this,c=this.options.ajax,l={};if(arguments.length<1||void 0===t)return!1;"string"==typeof t?(a=t.match(/(http|ftp|https):+/)?t:u()+t,e.extend(!0,l,c,n,{url:a}),o=n&&e.isFunction(n.success)?n.success:function(){},s=n&&e.isFunction(n.error)?n.error:function(){}):(a=t.url.match(/(http|ftp|https):+/)?t.url:u()+t.url,e.extend(!0,l,c,t,{url:a}),o=e.isFunction(t.success)?t.success:function(){},s=e.isFunction(t.error)?t.error:function(){});var d=function(t,n,a){var c,d=l.showResponseNotice;switch(t.success){case!0:return d&&t.message&&(c=!0===d?t:e.extend(!0,{},t,{message:!1===d.successMessage?null:t.message,detail:!1===d.successDetail?null:t.detail}),r.options.ajaxSuccessDisplay(c,n,a)),o.call(l.context,t.data||t,n,a),e.Deferred().resolve(t.data||t,n,a,l.context);case!1:return d&&(c=!0===d?t:e.extend(!0,{},t,{message:!1===d.errorMessage?null:t.message,detail:!1===d.errorDetail?null:t.detail}),r.options.ajaxErrorDisplay(a,n,i,c)),s.call(l.context,a,n,i,t),e.Deferred().reject(a,n,i,t,l.context);default:return d&&l.showDefaultNotice&&r.options.ajaxSuccessDisplay(r.options.ajax.defaultNotice,n,a),o.call(l.context,t,n,a),e.Deferred().resolve(t,n,a,l.context)}},f=function(t,n,i){return l.showResponseNotice&&r.options.ajaxErrorDisplay(t,n,i),s.call(l.context,t,n,i),e.Deferred().reject(t,n,i,l.context)};return l.success=l.error=i,e.ajax(l).then(d,f)}})}),function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";if(!e)return{};var a=t.udesk=t.udesk||{},o={fontSize:null,sizeClassMap:{12:{font:"fontSize12",checkbox:"",radio:""},15:{font:"fontSize15",checkbox:"checkbox15",radio:"radio15"},18:{font:"fontSize18",checkbox:"checkbox15",radio:"radio15"}}},s=function(t){var n,i=this.options.sizeClassMap,a="",o="",s="";if(!t||!i[t])return this;for(n in i)a+=(i[n].font||"")+" ",o+=(i[n].checkbox||"")+" ",s+=(i[n].radio||"")+" ";return e("body").removeClass(a).addClass(i[t].font||""),e('input[type="checkbox"]',".k-grid").removeClass(o).addClass(i[t].checkbox||""),e('input[type="checkbox"]',"form").removeClass(o).addClass(i[t].checkbox||""),e('input[type="radio"]',"form").removeClass(s).addClass(i[t].radio||""),this};return e.extend(!0,a,{defaults:o,setFontSize:s})}),function(o,s){i=[n(0)],void 0!==(a=function(e){return window.udesk=s(e,window,document)}.apply(t,i))&&(e.exports=a)}(0,function(e,t,n,i){"use strict";if(!e)return{};var a=t.udesk=t.udesk||{},o={scrollBack:{enable:!1,template:'<div id="s_top_feed" class="back-top"><div class="to-top" data-tool="1"><div class="icon-mask"><div class="text">回到顶部</div></div><span class="fa fa-angle-up"></span></div></div>',selector:{wrapper:".back-top"},animate:{fadeInSpeed:1200,fadeOutSpeed:1200,scrollTopSpeed:600},scrollTopHeight:120},parentTab:{selector:{parent:".content-wrapper",link:".udesk-link"}}},s=function(t){return e(t).length>0},r=function(t){var n=t.options;return e.extend(!0,t,{modalInstance:t.modalInstance||t.modal(e("body"),n.modal),messageBox:function(e,t){return this.modalInstance.show(e,t||"messageBox"),this},confirm:function(e){return this.modalInstance.confirmCallback=e.confirmCallback,e.choice&&e.choice.length||(e.choice=n.modal.confirmChoice),e.defaultChoice!=i&&null!=e.defaultChoice||(e.defaultChoice=n.modal.defaultChoice),this.modalInstance.show(e,"confirm"),this},messageDetail:function(e){return this.modalInstance.show(e,"messageDetail"),this}})},c=function(t){var n=t.options,a=function(e,t){var n={message:null,detail:null};return arguments[1]==i?"object"==typeof arguments[0]?n=arguments[0]:n.message=arguments[0]||null:n={message:arguments[0]||null,detail:arguments[1]||null},n};return e.extend(!0,t,{noticeInstance:t.noticeInstance||t.notice(e("body"),n.notice),showNotice:function(e,t){var n=t||e.level;return this.noticeInstance.show(e,n),this},hideAllNotice:function(){return this.noticeInstance.hideAll(),this},showSuccess:function(e,t){return this.noticeInstance.show(a(e,t),"success"),this},showError:function(e,t){return this.noticeInstance.show(a(e,t),"error"),this},showWarning:function(e,t){return this.noticeInstance.show(a(e,t),"warning"),this},showInfo:function(e,t){return this.noticeInstance.show(a(e,t),"info"),this}})},l=function(e){var n=e.options.scanner;return n.enable&&(e.scanner=new e.Scanner,e.scannerInit(e.scanner,"TwainCpp.Version",n.scannerWith,n.scannerHeight),e.myImagePresentation=new e.scannerImagePre,e.scannerImgPreInit(e.myImagePresentation,"ImagePresentation",n.scannerImageWidth,n.scannerImageHeight,"b45c72d6-d458-46b5-85e4-9c38b388cd5f|10.231.2.84:9083/ASS|10.231.2.83:9085/TCS|99002|10.232.28.5:9083/ISS|10.232.20.177:9080/IRCS"),t.onload=function(){e.scannerLoadDrv(e.scanner,e.myImagePresentation)}),e},d=function(e){return e.options.fingerprint.enable&&(t.onload=e.fpCheckDriver()),e},u=function(i){var a=!(t.parent===t),o=function(e){try{return t.parent.jQuery,!1}catch(e){return!0}}();return e.extend(!0,i,{parentWindow:o?null:t.parent,hasParentWindow:a,parentTab:o?null:t.parent.jQuery(i.options.parentTab.selector.parent).data("udeskTab"),openParentTab:function(e){if(e&&e.url)return this.parentTab?this.parentTab.openTab(e):t.open(e.url),i},closeParentTab:function(e){return this.parentTab?(this.parentTab.closeTab(e),i):void 0}}),e(n).on("click",i.options.parentTab.selector.link,function(t){var n=e(t.target),a=n.data("url");a&&i.openParentTab({url:a,mode:n.data("mode"),title:n.data("title")||n.text(),menuId:n.data("menuId"),sysId:n.data("sysId"),tdId:n.data("tdId")})}),i},f=function(i){var a=i.options.scrollBack,o=a.selector.wrapper;return a.enable?(s(o)||e("body").append(a.template),e(t).scroll(function(){e(n).height(),e(this).scrollTop()>a.scrollTopHeight?e(o).fadeIn(a.animate.fadeInSpeed):e(o).fadeOut(a.animate.fadeOutSpeed)}),e(o).on("click",function(){e("html,body").animate({scrollTop:0},a.animate.scrollTopSpeed)}),i):i},p=function(e){var t=e.options.fontSize?e.options.fontSize.toString():i;return e.setFontSize(t)},h=function(e){return r(e),c(e),l(e),d(e),u(e),f(e),p(e),e};return e.extend(!0,a,{version:"3.4.0",defaults:o,options:{},setDefaults:function(t){return e.extend(!0,this.defaults,t),this},showNotice:function(e,t){},hideAllNotice:function(){},showSuccess:i,showError:i,showWarning:i,showInfo:i,confirm:i,messageBox:i,messageDetail:i,init:function(t){return this.options=e.extend(!0,{},this.defaults,this.options,t),h(this),this}})})}]);